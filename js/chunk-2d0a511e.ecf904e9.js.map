{"version":3,"sources":["webpack:///./src/components/Detail.vue?4fb3","webpack:///src/components/Detail.vue","webpack:///./src/components/Detail.vue?7d9b","webpack:///./src/components/Detail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","active","isLoading","on","update:active","$event","click","backPage","_v","reloadPage","src","product","imageUrl","alt","_s","category","title","content","description","origin_price","price","directives","name","rawName","value","expression","placeholder","change","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","_l","num","key","domProps","href","data-toggle","data-placement","preventDefault","addtoCart","id","addtoCartAlert","status","loadingItem","aria-hidden","staticRenderFns","Detailvue_type_script_lang_js_","data","pdId","cart","created","$route","params","product_id","getProduct","console","log","methods","vm","url","concat","$http","get","then","response","qty","arguments","length","undefined","post","success","getCart","$bus","$emit","tooltip","jquery_default","trigger","setTimeout","$router","back","window","location","reload","components_Detailvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0a511e.ecf904e9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container detail_all\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"detail_content\"},[_c('div',{staticClass:\"d-flex top_btn_all\"},[_c('button',{staticClass:\"top_btn\",on:{\"click\":_vm.backPage}},[_c('i',{staticClass:\"fas fa-arrow-left\"}),_vm._v(\"   上一頁\\n\\t\\t\\t\")]),_c('button',{staticClass:\"top_btn\",on:{\"click\":function($event){return _vm.reloadPage()}}},[_c('i',{staticClass:\"fas fa-redo-alt\"}),_vm._v(\"  重新整理\\n\\t\\t\\t\")])]),_c('div',{staticClass:\"row mt-4\"},[_c('div',{staticClass:\"col-md-7 pd_img_all\"},[_c('img',{staticClass:\"pd_img\",attrs:{\"src\":_vm.product.imageUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"col-md-5 pd_info\"},[_c('p',{staticClass:\"badge badge-secondary\"},[_vm._v(_vm._s(_vm.product.category))]),_c('h1',{staticClass:\"h2 pd_title\"},[_vm._v(_vm._s(_vm.product.title))]),_c('hr'),_c('p',{staticClass:\"pd_content\"},[_vm._v(_vm._s(_vm.product.content))]),_c('p',{staticClass:\"pd_description\"},[_vm._v(_vm._s(_vm.product.description))]),_c('div',{staticClass:\"my-3\"},[_c('del',{staticClass:\"text-muted\"},[_vm._v(\"NT$\"+_vm._s(_vm.product.origin_price))]),_c('strong',{staticClass:\"h3 mb-0 ml-1 pd_price\"},[_vm._v(\"NT$\"+_vm._s(_vm.product.price))])]),_c('hr'),_c('div',{staticClass:\"mt-3\"},[_c('div',[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t數量： \\n\\t\\t\\t\\t\\t\\t\"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.product.num),expression:\"product.num\"}],staticClass:\"select_num\",attrs:{\"name\":\"select_num\",\"placeholder\":\"請選擇數量\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.product, \"num\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((10),function(num){return _c('option',{key:num,domProps:{\"value\":num}},[_vm._v(_vm._s(num))])}),0)]),_c('div',{staticClass:\"addcart_tooltip mt-3\"},[_c('a',{staticClass:\"btn btn_addcart\",attrs:{\"href\":\"#\",\"data-toggle\":\"tooltip\",\"data-placement\":\"right\",\"title\":\"已加入購物車\"},on:{\"click\":[function($event){$event.preventDefault();return _vm.addtoCart(_vm.product.id, \n\t\t\t\t\t\t\t_vm.product.num)},_vm.addtoCartAlert]}},[(_vm.product.id === _vm.status.loadingItem)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_c('i',{staticClass:\"fa fa-cart-plus\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t加入購物車\\n\\t\\t\\t\\t\\t\\t\")])])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"container detail_all\">\r\n\t\t<loading :active.sync=\"isLoading\"></loading>\r\n\t\t<div class=\"detail_content\">\r\n\t\t\t<div class=\"d-flex top_btn_all\">\r\n\t\t\t\t<button class=\"top_btn\" @click=\"backPage\">\r\n\t\t\t\t\t<i class=\"fas fa-arrow-left\"></i>&nbsp;&nbsp; 上一頁\r\n\t\t\t\t</button>\r\n\t\t\t\t<button class=\"top_btn\" @click=\"reloadPage()\">\r\n\t\t\t\t\t<i class=\"fas fa-redo-alt\"></i>&nbsp;&nbsp;重新整理\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"row mt-4\">\r\n\t\t\t\t<!-- 商品圖片 -->\r\n\t\t\t\t<div class=\"col-md-7 pd_img_all\">\r\n\t\t\t\t\t<img class=\"pd_img\" :src=\"product.imageUrl\" alt>\r\n\t\t\t\t\t<!-- <div class=\"pd_img_bg\"></div> -->\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- // 商品圖片 -->\r\n\t\t\t\t<!-- 商品資訊 -->\r\n\t\t\t\t<div class=\"col-md-5 pd_info\">\r\n\t\t\t\t\t<p class=\"badge badge-secondary\">{{ product.category }}</p>\r\n\t\t\t\t\t<h1 class=\"h2 pd_title\">{{ product.title }}</h1>\r\n\t\t\t\t\t<hr>\r\n\t\t\t\t\t<p class=\"pd_content\">{{ product.content }}</p>\r\n\t\t\t\t\t<p class=\"pd_description\">{{ product.description }}</p>\r\n\t\t\t\t\t<div class=\"my-3\">\r\n\t\t\t\t\t\t<del class=\"text-muted\">NT${{ product.origin_price }}</del>\r\n\t\t\t\t\t\t<strong class=\"h3 mb-0 ml-1 pd_price\">NT${{ product.price }}</strong>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<hr>\r\n\r\n\t\t\t\t\t<!-- 數量 -->\r\n\t\t\t\t\t<div class=\"mt-3\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t數量：&nbsp;\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tv-model=\"product.num\"\r\n\t\t\t\t\t\t\t\tname=\"select_num\"\r\n\t\t\t\t\t\t\t\tclass=\"select_num\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"請選擇數量\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<!-- <option selected=\"selected\" disabled>請選擇數量</option> -->\r\n\t\t\t\t\t\t\t\t<option :value=\"num\" v-for=\"num in 10\" :key=\"num\">{{num}}</option>\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"addcart_tooltip mt-3\">\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\t\t\t\tclass=\"btn btn_addcart\"\r\n\t\t\t\t\t\t\t\tdata-toggle=\"tooltip\"\r\n\t\t\t\t\t\t\t\tdata-placement=\"right\"\r\n\t\t\t\t\t\t\t\ttitle=\"已加入購物車\"\r\n\t\t\t\t\t\t\t\t@click.prevent=\"addtoCart(product.id, \r\n\t\t\t\t\t\t\t\tproduct.num)\"\r\n\t\t\t\t\t\t\t\t@click=\"addtoCartAlert\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i class=\"fas fa-spinner fa-spin\" v-if=\"product.id === status.loadingItem\"></i>\r\n\t\t\t\t\t\t\t\t<i class=\"fa fa-cart-plus\" aria-hidden=\"true\" v-else></i>\r\n\t\t\t\t\t\t\t\t加入購物車\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<!-- <div class=\"tooltip_custom\">\r\n\t\t\t\t\t\t\t\t<div class=\"arrow\"></div>\r\n\t\t\t\t\t\t\t\t<div class=\"tooltip_inner\">已加入購物車</div>\r\n\t\t\t\t\t\t\t</div>-->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- // 商品資訊 -->\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport $ from 'jquery';\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tproduct: {},\r\n\t\t\t\tpdId: '',\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tstatus: {\r\n\t\t\t\t\tloadingItem: '', // 放產品的 id\r\n\t\t\t\t},\r\n\t\t\t\tcart: {},  // 購物車列表裡的每一筆資料\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tcreated() {\r\n\t\t\tthis.pdId = this.$route.params.product_id;\r\n\t\t\tthis.getProduct(this.pdId);\r\n\t\t\tconsole.log(this.pdId);\r\n\t\t\t// this.getCart();\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t// 取得當下點擊的商品\r\n\t\t\tgetProduct(id) {\r\n\t\t\t\tconst vm = this;\r\n\t\t\t\tconst url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${id}`;\r\n\t\t\t\tvm.isLoading = true;\r\n\t\t\t\tthis.$http.get(url).then((response) => {\r\n\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\tvm.product = response.data.product;\r\n\t\t\t\t\tvm.product.num = 1;\r\n\t\t\t\t\tvm.isLoading = false;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 加入購物車\r\n\t\t\taddtoCart(id, qty = 1) {\r\n\t\t\t\tconst vm = this;\r\n\t\t\t\tconst url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`;\r\n\t\t\t\tvm.status.loadingItem = id;\r\n\r\n\t\t\t\t// API 會傳入的參數屬性(product_id、qty)\r\n\t\t\t\tconst cart = {\r\n\t\t\t\t\tproduct_id: id,\r\n\t\t\t\t\tqty\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$http.post(url, { data: cart }).then((response) => {\r\n\t\t\t\t\tif (response.data.success) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tvm.status.loadingItem = '';\r\n\t\t\t\t\t\tvm.getCart();\r\n\t\t\t\t\t\tvm.addtoCartAlert();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.$bus.$emit('regetCart');\r\n\t\t\t},\r\n\r\n\r\n\t\t\taddtoCartAlert() {\r\n\t\t\t\tlet tooltip = $('[data-toggle=\"tooltip\"]');\r\n\t\t\t\ttooltip.tooltip({\r\n\t\t\t\t\ttrigger: 'click',\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\ttooltip.tooltip('hide');\r\n\t\t\t\t}, 1200)\r\n\t\t\t},\r\n\r\n\t\t\t// 取得購物車列表\r\n\t\t\tgetCart() {\r\n\t\t\t\tconst vm = this;\r\n\t\t\t\tconst url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`;\r\n\t\t\t\tthis.$http.get(url).then((response) => {\r\n\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\tvm.cart = response.data.data;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tbackPage() {\r\n\t\t\t\tthis.$router.back();\r\n\t\t\t},\r\n\r\n\t\t\treloadPage() {\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t\t// this.$router.push(`/detail/${id}`)\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=59c1b99f&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}