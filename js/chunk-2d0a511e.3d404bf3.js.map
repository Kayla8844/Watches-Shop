{"version":3,"sources":["webpack:///./src/components/Detail.vue?6f48","webpack:///src/components/Detail.vue","webpack:///./src/components/Detail.vue?7d9b","webpack:///./src/components/Detail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","backPage","_v","reloadPage","product","imageUrl","_s","category","title","content","description","origin_price","price","directives","name","rawName","value","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","_l","num","key","domProps","preventDefault","addtoCart","id","addtoCartAlert","status","loadingItem","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d0a511e.3d404bf3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container detail_all\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"detail_content\"},[_c('div',{staticClass:\"d-flex top_btn_all\"},[_c('button',{staticClass:\"top_btn\",on:{\"click\":_vm.backPage}},[_c('i',{staticClass:\"fas fa-arrow-left\"}),_vm._v(\"   上一頁\\n\\t\\t\\t\")]),_c('button',{staticClass:\"top_btn\",on:{\"click\":function($event){return _vm.reloadPage()}}},[_c('i',{staticClass:\"fas fa-redo-alt\"}),_vm._v(\"  重新整理\\n\\t\\t\\t\")])]),_c('div',{staticClass:\"row mt-4\"},[_c('div',{staticClass:\"col-md-7 pd_img_all\"},[_c('img',{staticClass:\"pd_img\",attrs:{\"src\":_vm.product.imageUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"col-md-5 pd_info\"},[_c('p',{staticClass:\"badge badge-secondary\"},[_vm._v(_vm._s(_vm.product.category))]),_c('h1',{staticClass:\"h2 pd_title\"},[_vm._v(_vm._s(_vm.product.title))]),_c('hr'),_c('p',{staticClass:\"pd_content\"},[_vm._v(_vm._s(_vm.product.content))]),_c('p',{staticClass:\"pd_description\"},[_vm._v(_vm._s(_vm.product.description))]),_c('div',{staticClass:\"my-3\"},[_c('del',{staticClass:\"text-muted\"},[_vm._v(\"NT$\"+_vm._s(_vm.product.origin_price))]),_c('strong',{staticClass:\"h3 mb-0 ml-1 pd_price\"},[_vm._v(\"NT$\"+_vm._s(_vm.product.price))])]),_c('hr'),_c('div',{staticClass:\"mt-3\"},[_c('div',[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t數量： \\n\\t\\t\\t\\t\\t\\t\"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.product.num),expression:\"product.num\"}],staticClass:\"select_num\",attrs:{\"name\":\"select_num\",\"placeholder\":\"請選擇數量\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.product, \"num\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((10),function(num){return _c('option',{key:num,domProps:{\"value\":num}},[_vm._v(_vm._s(num))])}),0)]),_c('div',{staticClass:\"addcart_tooltip mt-3\"},[_c('a',{staticClass:\"btn btn_addcart\",attrs:{\"href\":\"#\",\"data-toggle\":\"tooltip\",\"data-placement\":\"right\",\"title\":\"已加入購物車\"},on:{\"click\":[function($event){$event.preventDefault();return _vm.addtoCart(_vm.product.id, \n\t\t\t\t\t\t\t_vm.product.num)},_vm.addtoCartAlert]}},[(_vm.product.id === _vm.status.loadingItem)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_c('i',{staticClass:\"fa fa-cart-plus\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t加入購物車\\n\\t\\t\\t\\t\\t\\t\")])])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"container detail_all\">\r\n\t\t<loading :active.sync=\"isLoading\"></loading>\r\n\t\t<div class=\"detail_content\">\r\n\t\t\t<div class=\"d-flex top_btn_all\">\r\n\t\t\t\t<button class=\"top_btn\" @click=\"backPage\">\r\n\t\t\t\t\t<i class=\"fas fa-arrow-left\"></i>&nbsp;&nbsp; 上一頁\r\n\t\t\t\t</button>\r\n\t\t\t\t<button class=\"top_btn\" @click=\"reloadPage()\">\r\n\t\t\t\t\t<i class=\"fas fa-redo-alt\"></i>&nbsp;&nbsp;重新整理\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"row mt-4\">\r\n\t\t\t\t<!-- 商品圖片 -->\r\n\t\t\t\t<div class=\"col-md-7 pd_img_all\">\r\n\t\t\t\t\t<img class=\"pd_img\" :src=\"product.imageUrl\" alt>\r\n\t\t\t\t\t<!-- <div class=\"pd_img_bg\"></div> -->\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- // 商品圖片 -->\r\n\t\t\t\t<!-- 商品資訊 -->\r\n\t\t\t\t<div class=\"col-md-5 pd_info\">\r\n\t\t\t\t\t<p class=\"badge badge-secondary\">{{ product.category }}</p>\r\n\t\t\t\t\t<h1 class=\"h2 pd_title\">{{ product.title }}</h1>\r\n\t\t\t\t\t<hr>\r\n\t\t\t\t\t<p class=\"pd_content\">{{ product.content }}</p>\r\n\t\t\t\t\t<p class=\"pd_description\">{{ product.description }}</p>\r\n\t\t\t\t\t<div class=\"my-3\">\r\n\t\t\t\t\t\t<del class=\"text-muted\">NT${{ product.origin_price }}</del>\r\n\t\t\t\t\t\t<strong class=\"h3 mb-0 ml-1 pd_price\">NT${{ product.price }}</strong>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<hr>\r\n\r\n\t\t\t\t\t<!-- 數量 -->\r\n\t\t\t\t\t<div class=\"mt-3\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t數量：&nbsp;\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tv-model=\"product.num\"\r\n\t\t\t\t\t\t\t\tname=\"select_num\"\r\n\t\t\t\t\t\t\t\tclass=\"select_num\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"請選擇數量\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<!-- <option selected=\"selected\" disabled>請選擇數量</option> -->\r\n\t\t\t\t\t\t\t\t<option :value=\"num\" v-for=\"num in 10\" :key=\"num\">{{num}}</option>\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"addcart_tooltip mt-3\">\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\t\t\t\tclass=\"btn btn_addcart\"\r\n\t\t\t\t\t\t\t\tdata-toggle=\"tooltip\"\r\n\t\t\t\t\t\t\t\tdata-placement=\"right\"\r\n\t\t\t\t\t\t\t\ttitle=\"已加入購物車\"\r\n\t\t\t\t\t\t\t\t@click.prevent=\"addtoCart(product.id, \r\n\t\t\t\t\t\t\t\tproduct.num)\"\r\n\t\t\t\t\t\t\t\t@click=\"addtoCartAlert\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i class=\"fas fa-spinner fa-spin\" v-if=\"product.id === status.loadingItem\"></i>\r\n\t\t\t\t\t\t\t\t<i class=\"fa fa-cart-plus\" aria-hidden=\"true\" v-else></i>\r\n\t\t\t\t\t\t\t\t加入購物車\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<!-- <div class=\"tooltip_custom\">\r\n\t\t\t\t\t\t\t\t<div class=\"arrow\"></div>\r\n\t\t\t\t\t\t\t\t<div class=\"tooltip_inner\">已加入購物車</div>\r\n\t\t\t\t\t\t\t</div>-->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- // 商品資訊 -->\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport $ from 'jquery';\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tproduct: {},\r\n\t\t\t\tpdId: '',\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tstatus: {\r\n\t\t\t\t\tloadingItem: '', // 放產品的 id\r\n\t\t\t\t},\r\n\t\t\t\tcart: {},  // 購物車列表裡的每一筆資料\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tcreated() {\r\n\t\t\tthis.pdId = this.$route.params.product_id;\r\n\t\t\tthis.getProduct(this.pdId);\r\n\t\t\tconsole.log(this.pdId);\r\n\t\t\t// this.getCart();\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t// 取得當下點擊的商品\r\n\t\t\tgetProduct(id) {\r\n\t\t\t\tconst vm = this;\r\n\t\t\t\tconst url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${id}`;\r\n\t\t\t\tvm.isLoading = true;\r\n\t\t\t\tthis.$http.get(url).then((response) => {\r\n\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\tvm.product = response.data.product;\r\n\r\n\t\t\t\t\t// 一開始設定數量是 1，不然選擇框會空白\r\n\t\t\t\t\tvm.product.num = 1;\r\n\t\t\t\t\t\r\n\t\t\t\t\tvm.isLoading = false;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 加入購物車\r\n\t\t\taddtoCart(id, qty = 1) {\r\n\t\t\t\tconst vm = this;\r\n\t\t\t\tconst url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`;\r\n\t\t\t\tvm.status.loadingItem = id;\r\n\r\n\t\t\t\t// API 會傳入的參數屬性(product_id、qty)\r\n\t\t\t\tconst cart = {\r\n\t\t\t\t\tproduct_id: id,\r\n\t\t\t\t\tqty\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$http.post(url, { data: cart }).then((response) => {\r\n\t\t\t\t\tif (response.data.success) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tvm.status.loadingItem = '';\r\n\t\t\t\t\t\tvm.getCart();\r\n\t\t\t\t\t\tvm.addtoCartAlert();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.$bus.$emit('regetCart');\r\n\t\t\t},\r\n\r\n\r\n\t\t\taddtoCartAlert() {\r\n\t\t\t\tlet tooltip = $('[data-toggle=\"tooltip\"]');\r\n\t\t\t\ttooltip.tooltip({\r\n\t\t\t\t\ttrigger: 'click',\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\ttooltip.tooltip('hide');\r\n\t\t\t\t}, 1200)\r\n\t\t\t},\r\n\r\n\t\t\t// 取得購物車列表\r\n\t\t\tgetCart() {\r\n\t\t\t\tconst vm = this;\r\n\t\t\t\tconst url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`;\r\n\t\t\t\tthis.$http.get(url).then((response) => {\r\n\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\tvm.cart = response.data.data;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tbackPage() {\r\n\t\t\t\tthis.$router.back();\r\n\t\t\t},\r\n\r\n\t\t\treloadPage() {\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t\t// this.$router.push(`/detail/${id}`)\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=12a6a78c&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}